{"ast":null,"code":"import \"firebase/firestore\";\nexport var parseMessages = function parseMessages(data) {\n  return data.map(function (item, index) {\n    console.log(item.id);\n    return {\n      _id: index,\n      text: item.text,\n      createdAt: item.createdAt != null ? item.createdAt.toDate() : Date.now(),\n      user: {\n        _id: item.sentBy\n      }\n    };\n  });\n};\nexport var parseGroups = function parseGroups(uid, data) {\n  console.log(\"string \" + uid);\n  return data.map(function (item, index) {\n    return {\n      id: item.id,\n      lastText: item.lastText,\n      lastSent: item.lastSent.toDate(),\n      members: item.members.filter(function (x) {\n        return x.id != uid;\n      })[0]\n    };\n  });\n};","map":{"version":3,"names":["parseMessages","data","map","item","index","console","log","id","_id","text","createdAt","toDate","Date","now","user","sentBy","parseGroups","uid","lastText","lastSent","members","filter","x"],"sources":["/Users/chengchuan/Coding/Projects/LifeHack-2023/services/util.ts"],"sourcesContent":["import firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport * as firestoreTypes from \"@firebase/firestore-types\";\n\nexport const parseMessages = (data: any) => {\n  return data.map((item: any, index: number) => {\n    console.log(item.id);\n    return {\n      _id: index,\n      text: item.text,\n      createdAt:\n        item.createdAt != null\n          ? (item.createdAt as firebase.firestore.Timestamp).toDate()\n          : Date.now(),\n      user: {\n        _id: item.sentBy,\n        // name: \"React Native\",\n        // avatar: \"https://placeimg.com/140/140/any\",\n      },\n    };\n  });\n};\n\nexport const parseGroups = (uid: string, data: any) => {\n  console.log(\"string \" + uid);\n  return data.map((item: any, index: number) => {\n    return {\n      id: item.id,\n      lastText: item.lastText,\n      lastSent: (item.lastSent as firebase.firestore.Timestamp).toDate(),\n      members: item.members.filter(\n        (x) => (x as firestoreTypes.DocumentReference).id != uid\n      )[0],\n    };\n  });\n};\n"],"mappings":"AACA,OAAO,oBAAoB;AAG3B,OAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,IAAS,EAAK;EAC1C,OAAOA,IAAI,CAACC,GAAG,CAAC,UAACC,IAAS,EAAEC,KAAa,EAAK;IAC5CC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACI,EAAE,CAAC;IACpB,OAAO;MACLC,GAAG,EAAEJ,KAAK;MACVK,IAAI,EAAEN,IAAI,CAACM,IAAI;MACfC,SAAS,EACPP,IAAI,CAACO,SAAS,IAAI,IAAI,GACjBP,IAAI,CAACO,SAAS,CAAkCC,MAAM,CAAC,CAAC,GACzDC,IAAI,CAACC,GAAG,CAAC,CAAC;MAChBC,IAAI,EAAE;QACJN,GAAG,EAAEL,IAAI,CAACY;MAGZ;IACF,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,GAAW,EAAEhB,IAAS,EAAK;EACrDI,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGW,GAAG,CAAC;EAC5B,OAAOhB,IAAI,CAACC,GAAG,CAAC,UAACC,IAAS,EAAEC,KAAa,EAAK;IAC5C,OAAO;MACLG,EAAE,EAAEJ,IAAI,CAACI,EAAE;MACXW,QAAQ,EAAEf,IAAI,CAACe,QAAQ;MACvBC,QAAQ,EAAGhB,IAAI,CAACgB,QAAQ,CAAkCR,MAAM,CAAC,CAAC;MAClES,OAAO,EAAEjB,IAAI,CAACiB,OAAO,CAACC,MAAM,CAC1B,UAACC,CAAC;QAAA,OAAMA,CAAC,CAAsCf,EAAE,IAAIU,GAAG;MAAA,CAC1D,CAAC,CAAC,CAAC;IACL,CAAC;EACH,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}